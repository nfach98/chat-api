{
  "info": {
    "_postman_id": "YOUR_COLLECTION_ID",
    "name": "Chat App API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "register"
              ]
            },
            "description": "Registers a new user."
          },
          "response": [
            {
              "name": "Successful Registration",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"token\": \"some_jwt_token\"\n}"
            },
            {
              "name": "User Registration Failed",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"User registration failed\"\n}"
            }
          ]
        },
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            },
            "description": "Logs in an existing user."
          },
          "response": [
            {
              "name": "Successful Login",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/login",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "login"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"token\": \"some_jwt_token\"\n}"
            },
            {
              "name": "User Not Found",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"wrong@example.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/login",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "login"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"User not found\"\n}"
            },
            {
              "name": "Validation Failed",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"wrongpassword\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/login",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "login"
                  ]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Validation failed\"\n}"
            }
          ]
        },
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/profile",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "profile"
              ]
            },
            "description": "Retrieves the profile of the authenticated user."
          },
          "response": [
            {
              "name": "Successful Profile Retrieval",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/auth/profile",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "profile"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"name\": \"User Name\",\n  \"email\": \"user@example.com\",\n  \"picture\": \"picture_filename.jpg\"\n}"
            },
            {
              "name": "User Not Found",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <INVALID_TOKEN>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/auth/profile",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "profile"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"User not found\"\n}"
            }
          ]
        },
        {
          "name": "Get User Profile By ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/profilebyid?id=some_other_user_id",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "profilebyid"
              ],
              "query": [
                {
                  "key": "id",
                  "value": "some_other_user_id"
                }
              ]
            },
            "description": "Retrieves the profile of a user by their ID."
          },
          "response": [
            {
              "name": "Successful Profile Retrieval",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/auth/profilebyid?id=some_other_user_id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "profilebyid"
                  ],
                  "query": [
                    {
                      "key": "id",
                      "value": "some_other_user_id"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"name\": \"Other User Name\",\n  \"email\": \"otheruser@example.com\"\n}"
            },
            {
              "name": "User Not Found (or self)",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/auth/profilebyid?id=my_own_user_id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "profilebyid"
                  ],
                  "query": [
                    {
                      "key": "id",
                      "value": "my_own_user_id"
                    }
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"User not found\"\n}"
            }
          ]
        },
        {
          "name": "Update Profile Picture",
          "request": {
            "method": "POST", 
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [] 
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/updatepicture",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "updatepicture"
              ]
            },
            "description": "Updates the profile picture of the authenticated user. The actual method might be PUT depending on server implementation for file updates, but the controller shows `upload(req, res, ...)` which is often used with POST for uploads."
          },
          "response": [
            {
              "name": "Successful Picture Update",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/updatepicture",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "updatepicture"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Update picture is successful\"\n}"
            },
            {
              "name": "Update Picture Failed",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": [] 
                    }
                  ]
                },
                "url": {
                  "raw": "{{baseUrl}}/api/auth/updatepicture",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "auth",
                    "updatepicture"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Update picture is failed\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Chat",
      "item": [
        {
          "name": "Get Rooms",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/chat/rooms",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "chat",
                "rooms"
              ]
            },
            "description": "Retrieves all chat rooms the authenticated user is a member of."
          },
          "response": [
            {
              "name": "Successful Rooms Retrieval",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/chat/rooms",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "chat",
                    "rooms"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "[\n  {\n    \"_id\": \"room_id_1\",\n    \"users\": [\"user_id_1\", \"user_id_2\"],\n    \"name\": \"Other User Name\",\n    \"picture\": \"other_user_picture.jpg\",\n    \"createdAt\": \"2023-10-27T10:00:00.000Z\",\n    \"updatedAt\": \"2023-10-27T10:00:00.000Z\"\n  }\n]"
            },
            {
              "name": "Error Fetching Rooms",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/chat/rooms",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "chat",
                    "rooms"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Specific error message\"\n}"
            }
          ]
        },
        {
          "name": "Get Room Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/chat/room?id=some_room_id",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "chat",
                "room"
              ],
              "query": [
                {
                  "key": "id",
                  "value": "some_room_id"
                }
              ]
            },
            "description": "Retrieves the details of a specific chat room."
          },
          "response": [
            {
              "name": "Successful Room Detail Retrieval",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/chat/room?id=some_room_id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "chat",
                    "room"
                  ],
                  "query": [
                    {
                      "key": "id",
                      "value": "some_room_id"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"_id\": \"some_room_id\",\n  \"users\": [\"user_id_1\", \"user_id_2\"],\n  \"name\": \"Other User Name\",\n  \"picture\": \"other_user_picture.jpg\",\n  \"createdAt\": \"2023-10-27T10:00:00.000Z\",\n  \"updatedAt\": \"2023-10-27T10:00:00.000Z\"\n}"
            },
            {
              "name": "Error Fetching Room Detail",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/api/chat/room?id=invalid_room_id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "chat",
                    "room"
                  ],
                  "query": [
                    {
                      "key": "id",
                      "value": "invalid_room_id"
                    }
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Specific error message\"\n}"
            }
          ]
        },
        {
          "name": "Create Room",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"users\": [\"user_id_2\"],\n  \"name\": \"Optional Room Name\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/chat/room",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "chat",
                "room"
              ]
            },
            "description": "Creates a new chat room."
          },
          "response": [
            {
              "name": "Successful Room Creation",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"users\": [\"user_id_2\"],\n  \"name\": \"Optional Room Name\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/chat/room",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "chat",
                    "room"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"_id\": \"new_room_id\",\n  \"users\": [\"auth_user_id\", \"user_id_2\"],\n  \"name\": \"Room Name\",\n  \"createdAt\": \"2023-10-27T12:00:00.000Z\",\n  \"updatedAt\": \"2023-10-27T12:00:00.000Z\"\n}"
            },
            {
              "name": "Error Creating Room",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer <YOUR_AUTH_TOKEN_HERE>"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"users\": [],\n  \"name\": \"Problematic Room\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/chat/room",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "chat",
                    "room"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Specific error message\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "File",
      "item": [
        {
          "name": "Upload File",
          "request": {
            "method": "POST",
            "header": [], 
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [] 
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/file/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "file",
                "upload"
              ]
            },
            "description": "Uploads a file. Note: This endpoint might require Authorization header depending on actual implementation of `upload` middleware, but it's not explicitly stated in `file.controller.js`'s `uploadFile`."
          },
          "response": [
            {
              "name": "Successful File Upload",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": {
                  "raw": "{{baseUrl}}/api/file/upload",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "file",
                    "upload"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Upload is successful\"\n}"
            },
            {
              "name": "Upload Error",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": [] 
                    }
                  ]
                },
                "url": {
                  "raw": "{{baseUrl}}/api/file/upload",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "file",
                    "upload"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"message\": \"Error message from upload middleware (e.g., file type error, size limit, etc.)\"\n}"
            }
          ]
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000" 
    }
  ]
}
